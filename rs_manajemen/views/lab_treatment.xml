<odoo>
    <record id="view_lab_treatment_form" model="ir.ui.view">
        <field name="name">lab.treatment.form</field>
        <field name="model">cdn.lab_treatment</field>
        <field name="arch" type="xml">
            <form string="Lab Treatment">
                <header>
                    <button name="action_confirm" type="object" string="Confirm"
                        class="oe_highlight" invisible="state != 'draft'" />
                    <button name="action_set_to_draft" type="object" string="Set to Draft"
                        class="btn-secondary" invisible="state != 'confirmed'" />
                    <field name="state" widget="statusbar" statusbar_visible="draft,confirmed" />
                </header>

                <sheet>
                    <group string="Informasi Umum">
                        <group>
                            <field name="code" readonly="1" string="Kode" />
                            <field name="name" string="Nama" />
                            <field name="category_id" string="Kategori" />
                            <field name="penjab_id" string="Penanggung Jawab" />
                            <field name="bangsal_id" string="Bangsal" />
                        </group>
                        <group>
                            <field name="kelas_kamar" string="Kelas Kamar" />
                            <field name="doctor_fee" string="Biaya Dokter" />
                            <field name="nurse_fee" string="Biaya Perawat" />
                            <field name="tax_id" string="Jenis Pajak" widget="many2one"
                                domain="[('type_tax_use', '=', 'sale')]" />
                            <field name="total_fee" readonly="1" string="Total Biaya" />
                        </group>
                    </group>

                    <notebook>
                        <page string="Detail Pemeriksaan">
                            <field name="detail_ids">
                                <list string="Detail Pemeriksaan">
                                    <field name="nama_pemeriksaan" string="Nama Pemeriksaan" />
                                    <field name="satuan" string="Satuan" />
                                    <field name="nrl_dewasa" string="NRL Dewasa" />
                                    <field name="nrl_anak" string="NRL Anak" />
                                    <field name="nrp_dewasa" string="NRP Dewasa" />
                                    <field name="nrp_anak" string="NRP Anak" />
                                </list>
                                <form string="Detail Pemeriksaan">
                                    <group>
                                        <field name="nama_pemeriksaan" string="Nama Pemeriksaan" />
                                        <field name="satuan" string="Satuan" />
                                        <field name="nrl_dewasa" string="NRL Dewasa" />
                                        <field name="nrl_anak" string="NRL Anak" />
                                        <field name="nrp_dewasa" string="NRP Dewasa" />
                                        <field name="nrp_anak" string="NRP Anak" />
                                    </group>
                                </form>
                            </field>
                        </page>
                    </notebook>

                    <group string="Rincian Pajak" class="oe_subtotal_footer">
                        <group>
                            <field name="total_fee" string="Jumlah Sebelum Pajak" readonly="1"
                                widget="monetary" class="oe_subtotal_footer_separator" />
                        </group>
                        <group>
                            <field name="tax_id" string="Pajak" widget="many2one" readonly="1" />
                            <field name="total_with_tax" string="Total dengan Pajak" readonly="1"
                                widget="monetary" class="oe_subtotal_footer_separator"
                                style="font-weight: bold;" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_lab_treatment_list" model="ir.ui.view">
        <field name="name">lab.treatment.list</field>
        <field name="model">cdn.lab_treatment</field>
        <field name="arch" type="xml">
            <list string="Jenis Perawatan Laboratorium">
                <field name="code" string="Kode" />
                <field name="name" string="Nama" />
                <field name="category_id" string="Kategori" />
                <field name="doctor_fee" string="Biaya Dokter" />
                <field name="nurse_fee" string="Biaya Perawat" />
                <field name="state" string="Status" />
            </list>
        </field>
    </record>

    <record id="action_lab_treatment" model="ir.actions.act_window">
        <field name="name">Jenis Perawatan Laboratorium</field>
        <field name="res_model">cdn.lab_treatment</field>
        <field name="view_mode">list,form</field>
    </record>

    <menuitem id="menu_lab_treatment" parent="data_pasien_categ" name="Perawatan Laboratorium"
        action="action_lab_treatment" sequence="3" />
</odoo>